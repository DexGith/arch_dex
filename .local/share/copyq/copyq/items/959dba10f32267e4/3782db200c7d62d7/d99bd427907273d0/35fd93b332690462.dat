<meta http-equiv="content-type" content="text/html; charset=utf-8"><span _ngcontent-ng-c895710572="" class="router-outlet-wrapper ng-tns-c895710572-0"><h3 _ngcontent-ng-c4139270029="" class="ng-star-inserted"><ms-cmark-node _ngcontent-ng-c4139270029="" _nghost-ng-c4139270029=""><span _ngcontent-ng-c4139270029="" class="ng-star-inserted">The Solution: Enabling the Kitty Keyboard Protocol</span></ms-cmark-node></h3><p _ngcontent-ng-c4139270029="" class="ng-star-inserted"><ms-cmark-node _ngcontent-ng-c4139270029="" _nghost-ng-c4139270029=""><span _ngcontent-ng-c4139270029="" class="ng-star-inserted">The most robust solution to this problem is to use a modern terminal feature that eliminates this ambiguity: the </span><strong _ngcontent-ng-c4139270029="" class="ng-star-inserted"><ms-cmark-node _ngcontent-ng-c4139270029="" _nghost-ng-c4139270029=""><span _ngcontent-ng-c4139270029="" class="ng-star-inserted">kitty keyboard protocol</span></ms-cmark-node></strong><span _ngcontent-ng-c4139270029="" class="ng-star-inserted">. This protocol sends unambiguous escape sequences for all key combinations, including </span><span _ngcontent-ng-c4139270029="" class="inline-code ng-star-inserted">Ctrl</span><span _ngcontent-ng-c4139270029="" class="ng-star-inserted"> + punctuation.</span></ms-cmark-node></p><p _ngcontent-ng-c4139270029="" class="ng-star-inserted"><ms-cmark-node _ngcontent-ng-c4139270029="" _nghost-ng-c4139270029=""><span _ngcontent-ng-c4139270029="" class="ng-star-inserted">Fortunately, recent versions of Alacritty, tmux, and Neovim all have support for this protocol. Here's how to enable it:</span></ms-cmark-node></p><h4 _ngcontent-ng-c4139270029="" class="ng-star-inserted"><ms-cmark-node _ngcontent-ng-c4139270029="" _nghost-ng-c4139270029=""><span _ngcontent-ng-c4139270029="" class="ng-star-inserted">1. Configure Alacritty</span></ms-cmark-node></h4><p _ngcontent-ng-c4139270029="" class="ng-star-inserted"><ms-cmark-node _ngcontent-ng-c4139270029="" _nghost-ng-c4139270029=""><span _ngcontent-ng-c4139270029="" class="ng-star-inserted">Recent versions of Alacritty have support for the kitty keyboard protocol. You may not need to do anything in your </span><span _ngcontent-ng-c4139270029="" class="inline-code ng-star-inserted">alacritty.toml</span><span _ngcontent-ng-c4139270029="" class="ng-star-inserted"> file.</span></ms-cmark-node></p><h4 _ngcontent-ng-c4139270029="" class="ng-star-inserted"><ms-cmark-node _ngcontent-ng-c4139270029="" _nghost-ng-c4139270029=""><span _ngcontent-ng-c4139270029="" class="ng-star-inserted">2. Configure Tmux</span></ms-cmark-node></h4><p _ngcontent-ng-c4139270029="" class="ng-star-inserted"><ms-cmark-node _ngcontent-ng-c4139270029="" _nghost-ng-c4139270029=""><span _ngcontent-ng-c4139270029="" class="ng-star-inserted">Add the following to your </span><span _ngcontent-ng-c4139270029="" class="inline-code ng-star-inserted">~/.tmux.conf</span><span _ngcontent-ng-c4139270029="" class="ng-star-inserted"> file:</span></ms-cmark-node></p><ms-code-block _ngcontent-ng-c4139270029="" _nghost-ng-c2036504554="" class="ng-star-inserted"><div _ngcontent-ng-c2036504554="" class="container"><mat-expansion-panel _ngcontent-ng-c2036504554="" class="mat-expansion-panel sticky-header mat-expanded ng-star-inserted mat-expansion-panel-animations-enabled"><mat-expansion-panel-header _ngcontent-ng-c2036504554="" role="button" class="mat-expansion-panel-header mat-focus-indicator sticky mat-expanded" id="mat-expansion-panel-header-19" tabindex="0" aria-controls="cdk-accordion-child-19" aria-expanded="true" aria-disabled="false"><span class="mat-content"><mat-panel-title _ngcontent-ng-c2036504554="" class="mat-expansion-panel-header-title"><span _ngcontent-ng-c2036504554="" aria-hidden="true" class="material-symbols-outlined notranslate title-icon"> code </span><span _ngcontent-ng-c2036504554="">Tmux</span></mat-panel-title><div _ngcontent-ng-c2036504554="" class="actions-container ng-star-inserted"><div _ngcontent-ng-c2036504554="" class="actions-container"></div></div></span></mat-expansion-panel-header></mat-expansion-panel></div></ms-code-block></span><span _ngcontent-ng-c895710572="" class="router-outlet-wrapper ng-tns-c895710572-0"><span class="mat-content"></span></span><span _ngcontent-ng-c895710572="" class="router-outlet-wrapper ng-tns-c895710572-0"><span class="mat-content"><div _ngcontent-ng-c2036504554="" class="actions-container"></div></span></span><span _ngcontent-ng-c895710572="" class="router-outlet-wrapper ng-tns-c895710572-0"><mat-expansion-panel-header _ngcontent-ng-c2036504554="" role="button" class="mat-expansion-panel-header mat-focus-indicator sticky mat-expanded" id="mat-expansion-panel-header-19" tabindex="0" aria-controls="cdk-accordion-child-19" aria-expanded="true" aria-disabled="false"><span class="mat-content"><div _ngcontent-ng-c2036504554="" class="actions-container ng-star-inserted"></div></span><span class="mat-expansion-indicator ng-star-inserted"></span></mat-expansion-panel-header><div class="mat-expansion-panel-content-wrapper"><div role="region" class="mat-expansion-panel-content" id="cdk-accordion-child-19" aria-labelledby="mat-expansion-panel-header-19"><div class="mat-expansion-panel-body"><div _ngcontent-ng-c2036504554="" aria-hidden="true" class="ignore-when-copying">IGNORE_WHEN_COPYING_START</div><div _ngcontent-ng-c2036504554="" aria-hidden="true" class="ignore-when-copying">IGNORE_WHEN_COPYING_END</div><pre _ngcontent-ng-c2036504554="" class="ng-star-inserted">    <code _ngcontent-ng-c2036504554="">set -g <span class="hljs-string">"tmux-features"</span> <span class="hljs-string">"xterm-kitty"</span>
set -as terminal-overrides <span class="hljs-string">',*:Smulx=\E[4::%p1%dm'</span>  # undercurl support
set -as terminal-overrides <span class="hljs-string">',*:Setulc=\E[58::2::%p1%{65536}%/%d:%p1%{256}%/%{255}%&amp;%d:%p1%{255}%&amp;%d;m'</span>  # underscore colours - needs tmux<span class="hljs-number">-3.0</span><span class="hljs-string">``</span><span class="hljs-string">`

The crucial part is `</span>set -g <span class="hljs-string">"tmux-features"</span> <span class="hljs-string">"xterm-kitty"</span><span class="hljs-string">`. This tells tmux to recognize and forward kitty's extended keyboard protocol sequences.

After adding this to your configuration, either restart your tmux server (`</span>tmux kill-server<span class="hljs-string">`) or source the configuration file (`</span>tmux source-file ~/.tmux.conf<span class="hljs-string">`).

#### 3. Let Neovim Do Its Thing

Recent versions of Neovim automatically detect and use the kitty keyboard protocol if the terminal and any intermediary (like tmux) support and announce it. You shouldn't need any special Neovim configuration for this to work.

With these changes in place, the flow of information will now be unambiguous:

*   **Alacritty (`</span>Ctrl+.<span class="hljs-string">`) -&gt; `</span>\e[<span class="hljs-number">46</span>;<span class="hljs-number">5</span>u<span class="hljs-string">` (kitty protocol sequence)**
*   **Alacritty -&gt; tmux -&gt; `</span>\e[<span class="hljs-number">46</span>;<span class="hljs-number">5</span>u<span class="hljs-string">`**
*   **Alacritty -&gt; tmux -&gt; Neovim -&gt; `</span>Ctrl+.<span class="hljs-string">`**

Neovim will now be able to correctly identify the `</span>Ctrl+.<span class="hljs-string">` keypress and trigger your mapped action. Your keymaps in `</span>init.lua<span class="hljs-string">` should work as expected without any changes.</span></code>
  </pre></div></div></div></span>